#!/usr/bin/env bash

set -e

if [-z "$0" ]; then
    echo "No command was provided. You can pass a command to daisy-exec to run inside the container."
    echo "$ daisy-exec ros2 topic list"
    exit 1
fi

REMOTE_DISPLAY=${DISPLAY%:*}
if [[ -z $REMOTE_DISPLAY && ! -z $DISPLAY ]]; then
    xhost +
fi

cd $DAISY_PATH
export COMMAND=$@
. $DAISY_PATH/.env
docker compose up exec